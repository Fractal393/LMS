{"ast":null,"code":"var _jsxFileName = \"D:\\\\Akshat\\\\quill-editor-blog-master\\\\client\\\\src\\\\components\\\\views\\\\FileExplorer\\\\FileExplorer.js\";\nimport React from 'react';\nimport FileManager, { Permissions, Toolbar, ContextMenu, Item, FileSelectionItem, ItemView, Details, Column } from 'devextreme-react/file-manager';\nimport { fileItems } from './data.js';\nimport RemoteFileSystemProvider from 'devextreme/file_management/remote_provider';\n/* const remoteProvider = new RemoteFileSystemProvider({\r\n  endpointUrl: 'https://js.devexpress.com/Demos/Mvc/api/file-manager-file-system-scripts'\r\n});\r\n */\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.fileManagerRef = React.createRef();\n    this.newFileMenuOptions = {\n      items: [{\n        text: 'Create new file',\n        icon: 'plus',\n        items: [{\n          text: 'Text Document',\n          extension: '.txt'\n        }, {\n          text: 'RTF Document',\n          extension: '.rtf'\n        }, {\n          text: 'Spreadsheet',\n          extension: '.xls'\n        }]\n      }],\n      onItemClick: this.onItemClick.bind(this)\n    };\n    this.changeCategoryMenuOptions = {\n      items: [{\n        text: 'Category',\n        icon: 'tags',\n        items: [{\n          text: 'Work',\n          category: 'Work'\n        }, {\n          text: 'Important',\n          category: 'Important'\n        }, {\n          text: 'Home',\n          category: 'Home'\n        }, {\n          text: 'None',\n          category: ''\n        }]\n      }],\n      onItemClick: this.onItemClick.bind(this)\n    };\n    this.onItemClick = this.onItemClick.bind(this);\n    this.createFile = this.createFile.bind(this);\n    this.updateCategory = this.updateCategory.bind(this);\n  }\n\n  render() {\n    return React.createElement(FileManager, {\n      ref: this.fileManagerRef,\n      fileSystemProvider: fileItems,\n      onContextMenuItemClick: this.onItemClick,\n      height: 450,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Permissions, {\n      create: true,\n      delete: true,\n      rename: true,\n      download: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(ItemView, {\n      showParentFolder: false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Details, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Column, {\n      dataField: \"thumbnail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(Column, {\n      dataField: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Column, {\n      dataField: \"category\",\n      caption: \"Category\",\n      width: \"95\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Column, {\n      dataField: \"dateModified\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(Column, {\n      dataField: \"size\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))), React.createElement(Toolbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Item, {\n      name: \"showNavPane\",\n      visible: \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(Item, {\n      name: \"separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(Item, {\n      name: \"create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Item, {\n      widget: \"dxMenu\",\n      location: \"before\",\n      options: this.newFileMenuOptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Item, {\n      name: \"refresh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(Item, {\n      name: \"separator\",\n      location: \"after\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(Item, {\n      name: \"switchView\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      name: \"rename\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      name: \"separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      name: \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      name: \"separator\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      widget: \"dxMenu\",\n      location: \"before\",\n      options: this.changeCategoryMenuOptions,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      name: \"refresh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(FileSelectionItem, {\n      name: \"clearSelection\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    })), React.createElement(ContextMenu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Item, {\n      name: \"create\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"Create new file\",\n      icon: \"plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Item, {\n      text: \"Text Document\",\n      extension: \".txt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"RTF Document\",\n      extension: \".rtf\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"Spreadsheet\",\n      extension: \".xls\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), React.createElement(Item, {\n      name: \"rename\",\n      beginGroup: \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Item, {\n      name: \"delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"Category\",\n      icon: \"tags\",\n      beginGroup: \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Item, {\n      text: \"Work\",\n      category: \"Work\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"Important\",\n      category: \"Important\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"Home\",\n      category: \"Home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(Item, {\n      text: \"None\",\n      category: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    })), React.createElement(Item, {\n      name: \"refresh\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })));\n  }\n\n  get fileManager() {\n    return this.fileManagerRef.current.instance;\n  }\n\n  onItemClick({\n    itemData\n  }) {\n    let updated = false;\n\n    if (itemData.extension) {\n      updated = this.createFile(itemData.extension);\n    } else if (itemData.category !== undefined) {\n      updated = this.updateCategory(itemData.category);\n    }\n\n    if (updated) {\n      this.fileManager.refresh();\n    }\n  }\n\n  createFile(fileExtension) {\n    const currentDirectory = this.fileManager.getCurrentDirectory();\n    const newItem = {\n      __KEY__: Date.now(),\n      name: \"New file\".concat(fileExtension),\n      isDirectory: false,\n      size: 0\n    };\n\n    if (currentDirectory.dataItem) {\n      currentDirectory.dataItem.items.push(newItem);\n    } else {\n      fileItems.push(newItem);\n    }\n\n    return true;\n  }\n\n  updateCategory(newCategory) {\n    const selectedItems = this.fileManager.getSelectedItems();\n    selectedItems.forEach(function (selectedItem) {\n      selectedItem.dataItem.category = newCategory;\n    });\n    return selectedItems.length > 0;\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:\\Akshat\\quill-editor-blog-master\\client\\src\\components\\views\\FileExplorer\\FileExplorer.js"],"names":["React","FileManager","Permissions","Toolbar","ContextMenu","Item","FileSelectionItem","ItemView","Details","Column","fileItems","RemoteFileSystemProvider","App","Component","constructor","props","fileManagerRef","createRef","newFileMenuOptions","items","text","icon","extension","onItemClick","bind","changeCategoryMenuOptions","category","createFile","updateCategory","render","fileManager","current","instance","itemData","updated","undefined","refresh","fileExtension","currentDirectory","getCurrentDirectory","newItem","__KEY__","Date","now","name","isDirectory","size","dataItem","push","newCategory","selectedItems","getSelectedItems","forEach","selectedItem","length"],"mappings":"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","sourcesContent":["import React from 'react';\r\n\r\nimport FileManager, { Permissions, Toolbar, ContextMenu, Item, FileSelectionItem, ItemView, Details, Column } from 'devextreme-react/file-manager';\r\n\r\nimport { fileItems } from './data.js';\r\nimport RemoteFileSystemProvider from 'devextreme/file_management/remote_provider';\r\n\r\n/* const remoteProvider = new RemoteFileSystemProvider({\r\n  endpointUrl: 'https://js.devexpress.com/Demos/Mvc/api/file-manager-file-system-scripts'\r\n});\r\n */\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fileManagerRef = React.createRef();\r\n\r\n    this.newFileMenuOptions = {\r\n      items: [\r\n        {\r\n          text: 'Create new file',\r\n          icon: 'plus',\r\n          items: [\r\n            {\r\n              text: 'Text Document',\r\n              extension: '.txt'\r\n            },\r\n            {\r\n              text: 'RTF Document',\r\n              extension: '.rtf'\r\n            },\r\n            {\r\n              text: 'Spreadsheet',\r\n              extension: '.xls'\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      onItemClick: this.onItemClick.bind(this)\r\n    };\r\n    this.changeCategoryMenuOptions = {\r\n      items: [\r\n        {\r\n          text: 'Category',\r\n          icon: 'tags',\r\n          items: [\r\n            {\r\n              text: 'Work',\r\n              category: 'Work'\r\n            },\r\n            {\r\n              text: 'Important',\r\n              category: 'Important'\r\n            },\r\n            {\r\n              text: 'Home',\r\n              category: 'Home'\r\n            },\r\n            {\r\n              text: 'None',\r\n              category: ''\r\n            }\r\n          ]\r\n        }\r\n      ],\r\n      onItemClick: this.onItemClick.bind(this)\r\n    };\r\n\r\n    this.onItemClick = this.onItemClick.bind(this);\r\n    this.createFile = this.createFile.bind(this);\r\n    this.updateCategory = this.updateCategory.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <FileManager\r\n        ref={this.fileManagerRef}\r\n        fileSystemProvider={fileItems}\r\n        onContextMenuItemClick={this.onItemClick}\r\n        height={450}>\r\n        <Permissions\r\n          create={true}\r\n          delete={true}\r\n          rename={true}\r\n          download={true}>\r\n        </Permissions>\r\n        <ItemView showParentFolder={false}>\r\n          <Details>\r\n            <Column dataField=\"thumbnail\"></Column>\r\n            <Column dataField=\"name\"></Column>\r\n            <Column dataField=\"category\" caption=\"Category\" width=\"95\"></Column>\r\n            <Column dataField=\"dateModified\"></Column>\r\n            <Column dataField=\"size\"></Column>\r\n          </Details>\r\n        </ItemView>\r\n        <Toolbar>\r\n          <Item name=\"showNavPane\" visible=\"true\" />\r\n          <Item name=\"separator\" />\r\n          <Item name=\"create\" />\r\n          <Item widget=\"dxMenu\" location=\"before\" options={this.newFileMenuOptions} />\r\n          <Item name=\"refresh\" />\r\n          <Item name=\"separator\" location=\"after\" />\r\n          <Item name=\"switchView\" />\r\n\r\n          <FileSelectionItem name=\"rename\" />\r\n          <FileSelectionItem name=\"separator\" />\r\n          <FileSelectionItem name=\"delete\" />\r\n          <FileSelectionItem name=\"separator\" />\r\n          <FileSelectionItem widget=\"dxMenu\" location=\"before\" options={this.changeCategoryMenuOptions} />\r\n          <FileSelectionItem name=\"refresh\" />\r\n          <FileSelectionItem name=\"clearSelection\" />\r\n        </Toolbar>\r\n        <ContextMenu>\r\n          <Item name=\"create\" />\r\n          <Item text=\"Create new file\" icon=\"plus\">\r\n            <Item text=\"Text Document\" extension=\".txt\" />\r\n            <Item text=\"RTF Document\" extension=\".rtf\" />\r\n            <Item text=\"Spreadsheet\" extension=\".xls\" />\r\n          </Item>\r\n          <Item name=\"rename\" beginGroup=\"true\" />\r\n          <Item name=\"delete\" />\r\n          <Item text=\"Category\" icon=\"tags\" beginGroup=\"true\">\r\n            <Item text=\"Work\" category=\"Work\" />\r\n            <Item text=\"Important\" category=\"Important\" />\r\n            <Item text=\"Home\" category=\"Home\" />\r\n            <Item text=\"None\" category=\"\" />\r\n          </Item>\r\n          <Item name=\"refresh\" />\r\n        </ContextMenu>\r\n      </FileManager>\r\n    );\r\n  }\r\n\r\n  get fileManager() {\r\n    return this.fileManagerRef.current.instance;\r\n  }\r\n\r\n  onItemClick({ itemData }) {\r\n    let updated = false;\r\n    if(itemData.extension) {\r\n      updated = this.createFile(itemData.extension);\r\n    } else if(itemData.category !== undefined) {\r\n      updated = this.updateCategory(itemData.category);\r\n    }\r\n\r\n    if(updated) {\r\n      this.fileManager.refresh();\r\n    }\r\n  }\r\n\r\n  createFile(fileExtension) {\r\n    const currentDirectory = this.fileManager.getCurrentDirectory();\r\n\r\n    const newItem = {\r\n      __KEY__: Date.now(),\r\n      name: `New file${ fileExtension}`,\r\n      isDirectory: false,\r\n      size: 0\r\n    };\r\n\r\n    if(currentDirectory.dataItem) {\r\n      currentDirectory.dataItem.items.push(newItem);\r\n    } else {\r\n      fileItems.push(newItem);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  updateCategory(newCategory) {\r\n    const selectedItems = this.fileManager.getSelectedItems();\r\n\r\n    selectedItems.forEach(function(selectedItem) {\r\n      selectedItem.dataItem.category = newCategory;\r\n    });\r\n\r\n    return selectedItems.length > 0;\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}