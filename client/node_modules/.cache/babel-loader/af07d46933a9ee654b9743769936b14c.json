{"ast":null,"code":"/**\n * PdfMainObjectCollection.ts class for EJ2-PDF\n */\nimport { Dictionary } from './../collections/dictionary';\nimport { ObjectStatus } from './enum';\n/**\n * The collection of all `objects` within a PDF document.\n * @private\n */\n\nvar PdfMainObjectCollection =\n/** @class */\nfunction () {\n  function PdfMainObjectCollection() {\n    //Fields\n\n    /**\n     * The collection of the `indirect objects`.\n     * @default []\n     * @private\n     */\n    this.objectCollections = [];\n    /**\n     * The collection of the `Indirect objects`.\n     * @default new Dictionary<number, ObjectInfo>()\n     * @private\n     */\n\n    this.mainObjectCollection = new Dictionary();\n    /**\n     * The collection of `primitive objects`.\n     * @private\n     */\n\n    this.primitiveObjectCollection = new Dictionary();\n  }\n\n  Object.defineProperty(PdfMainObjectCollection.prototype, \"count\", {\n    //Properties\n\n    /**\n     * Gets the `count`.\n     * @private\n     */\n    get: function () {\n      return this.objectCollections.length;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Gets the value of `ObjectInfo` from object collection.\n   * @private\n   */\n\n  PdfMainObjectCollection.prototype.items = function (index) {\n    return this.objectCollections[index];\n  };\n\n  Object.defineProperty(PdfMainObjectCollection.prototype, \"outIsNew\", {\n    //Methods\n\n    /**\n     * Specifies the value of `IsNew`.\n     * @private\n     */\n    get: function () {\n      return this.isNew;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * `Adds` the specified element.\n   * @private\n   */\n\n  PdfMainObjectCollection.prototype.add = function (element) {\n    var objInfo = new ObjectInfo(element);\n    this.objectCollections.push(objInfo);\n\n    if (!this.primitiveObjectCollection.containsKey(element)) {\n      this.primitiveObjectCollection.setValue(element, this.objectCollections.length - 1);\n    }\n\n    element.position = this.index = this.objectCollections.length - 1;\n    element.status = ObjectStatus.Registered;\n  };\n  /**\n   * `Looks` through the collection for the object specified.\n   * @private\n   */\n\n\n  PdfMainObjectCollection.prototype.lookFor = function (obj) {\n    var index = -1;\n\n    if (obj.position !== -1) {\n      return obj.position;\n    }\n\n    if (this.primitiveObjectCollection.containsKey(obj) && this.count === this.primitiveObjectCollection.size()) {\n      index = this.primitiveObjectCollection.getValue(obj);\n    } else {\n      for (var i = this.count - 1; i >= 0; i--) {\n        var oi = this.objectCollections[i];\n\n        if (oi.object === obj) {\n          index = i;\n          break;\n        }\n      }\n    }\n\n    return index;\n  };\n  /**\n   * Gets the `reference of the object`.\n   * @private\n   */\n\n\n  PdfMainObjectCollection.prototype.getReference = function (index, isNew) {\n    this.index = this.lookFor(index);\n    var reference;\n    this.isNew = false;\n    var oi = this.objectCollections[this.index];\n    reference = oi.reference;\n    var obj = {\n      reference: reference,\n      wasNew: isNew\n    };\n    return obj;\n  };\n  /**\n   * Tries to set the `reference to the object`.\n   * @private\n   */\n\n\n  PdfMainObjectCollection.prototype.trySetReference = function (obj, reference, found) {\n    var result = true;\n    found = true;\n    this.index = this.lookFor(obj);\n    var oi = this.objectCollections[this.index];\n    oi.setReference(reference);\n    return result;\n  };\n\n  PdfMainObjectCollection.prototype.destroy = function () {\n    for (var _i = 0, _a = this.objectCollections; _i < _a.length; _i++) {\n      var obj = _a[_i];\n\n      if (obj !== undefined) {\n        obj.pdfObject.position = -1;\n        obj.pdfObject.isSaving = undefined;\n        obj.pdfObject.objectCollectionIndex = undefined;\n        obj.pdfObject.position = undefined;\n      }\n    }\n\n    this.objectCollections = [];\n    this.mainObjectCollection = new Dictionary();\n    this.primitiveObjectCollection = new Dictionary();\n  };\n\n  return PdfMainObjectCollection;\n}();\n\nexport { PdfMainObjectCollection };\n\nvar ObjectInfo =\n/** @class */\nfunction () {\n  function ObjectInfo(obj, reference) {\n    this.pdfObject = obj;\n    this.pdfReference = reference;\n  }\n\n  Object.defineProperty(ObjectInfo.prototype, \"object\", {\n    //Properties\n\n    /**\n     * Gets the `object`.\n     * @private\n     */\n    get: function () {\n      return this.pdfObject;\n    },\n    set: function (value) {\n      this.pdfObject = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(ObjectInfo.prototype, \"reference\", {\n    /**\n     * Gets the `reference`.\n     * @private\n     */\n    get: function () {\n      return this.pdfReference;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Sets the `reference`.\n   * @private\n   */\n\n  ObjectInfo.prototype.setReference = function (reference) {\n    this.pdfReference = reference;\n  };\n\n  return ObjectInfo;\n}();\n\nexport { ObjectInfo };","map":null,"metadata":{},"sourceType":"module"}