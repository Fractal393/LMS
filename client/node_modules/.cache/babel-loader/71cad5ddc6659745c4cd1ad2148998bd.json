{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.triggerHiddenForm = exports.promptToSaveBlob = undefined;\n\nvar _fileSaver = require('file-saver');\n\nvar _fileSaver2 = _interopRequireDefault(_fileSaver);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // a case when we need to silently download a file using Javascript, and prompt to save it afterwards\n\n\nfunction promptToSaveBlob(_ref) {\n  var content = _ref.content,\n      name = _ref.name,\n      downloadUrl = _ref.downloadUrl;\n\n  if (downloadUrl) {\n    var iframeId = 'oc-fm--filemanager-download-iframe';\n    var iframeDOMNode = document.getElementById(iframeId);\n\n    if (!iframeDOMNode) {\n      iframeDOMNode = document.createElement('iframe');\n      iframeDOMNode.style.display = 'none';\n      iframeDOMNode.id = iframeId;\n      document.body.appendChild(iframeDOMNode);\n    }\n\n    iframeDOMNode.src = downloadUrl;\n  } else {\n    var blob = new Blob([content], {\n      type: 'octet/stream'\n    });\n\n    _fileSaver2.default.saveAs(blob, name);\n  }\n} // a case when we trigger a direct download in browser\n// used in google drive' connector\n\n\nfunction triggerHiddenForm(_ref2) {\n  var downloadUrl = _ref2.downloadUrl,\n      _ref2$target = _ref2.target,\n      target = _ref2$target === undefined ? '_self' : _ref2$target;\n  var form = document.createElement(\"form\");\n  form.action = downloadUrl;\n  form.target = target;\n  form.method = 'GET';\n  document.body.appendChild(form);\n  form.submit();\n  document.body.removeChild(form);\n}\n\nexports.promptToSaveBlob = promptToSaveBlob;\nexports.triggerHiddenForm = triggerHiddenForm;","map":null,"metadata":{},"sourceType":"script"}