{"ast":null,"code":"/**\r\n * DevExtreme (ui/text_box/utils.caret.js)\r\n * Version: 20.1.6\r\n * Build date: Fri Jul 17 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _browser = require(\"../../core/utils/browser\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _devices = require(\"../../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _dom_adapter = require(\"../../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _devices$real = _devices2.default.real(),\n    ios = _devices$real.ios,\n    mac = _devices$real.mac;\n\nvar isFocusingOnCaretChange = _browser2.default.msie || ios || mac;\n\nvar getCaret = function (input) {\n  var range;\n\n  try {\n    range = {\n      start: input.selectionStart,\n      end: input.selectionEnd\n    };\n  } catch (e) {\n    range = {\n      start: 0,\n      end: 0\n    };\n  }\n\n  return range;\n};\n\nvar setCaret = function (input, position) {\n  if (!_dom_adapter2.default.getBody().contains(input)) {\n    return;\n  }\n\n  try {\n    input.selectionStart = position.start;\n    input.selectionEnd = position.end;\n  } catch (e) {}\n};\n\nvar caret = function (input, position) {\n  input = (0, _renderer2.default)(input).get(0);\n\n  if (!(0, _type.isDefined)(position)) {\n    return getCaret(input);\n  }\n\n  if (isFocusingOnCaretChange && _dom_adapter2.default.getActiveElement() !== input) {\n    return;\n  }\n\n  setCaret(input, position);\n};\n\nmodule.exports = caret;","map":null,"metadata":{},"sourceType":"script"}