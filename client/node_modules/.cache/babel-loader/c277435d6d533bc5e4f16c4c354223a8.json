{"ast":null,"code":"/**\r\n * DevExtreme (ui/collection/ui.collection_widget.edit.strategy.plain.js)\r\n * Version: 20.1.6\r\n * Build date: Fri Jul 17 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar EditStrategy = require(\"./ui.collection_widget.edit.strategy\");\n\nvar PlainEditStrategy = EditStrategy.inherit({\n  _getPlainItems: function () {\n    return this._collectionWidget.option(\"items\") || [];\n  },\n  getIndexByItemData: function (itemData) {\n    var keyOf = this._collectionWidget.keyOf.bind(this._collectionWidget);\n\n    if (keyOf) {\n      return this.getIndexByKey(keyOf(itemData));\n    } else {\n      return inArray(itemData, this._getPlainItems());\n    }\n  },\n  getItemDataByIndex: function (index) {\n    return this._getPlainItems()[index];\n  },\n  deleteItemAtIndex: function (index) {\n    this._getPlainItems().splice(index, 1);\n  },\n  itemsGetter: function () {\n    return this._getPlainItems();\n  },\n  getKeysByItems: function (items) {\n    var keyOf = this._collectionWidget.keyOf.bind(this._collectionWidget);\n\n    var result = items;\n\n    if (keyOf) {\n      result = [];\n\n      for (var i = 0; i < items.length; i++) {\n        result.push(keyOf(items[i]));\n      }\n    }\n\n    return result;\n  },\n  getIndexByKey: function (key) {\n    var cache = this._cache;\n    var keys = cache && cache.keys || this.getKeysByItems(this._getPlainItems());\n\n    if (cache && !cache.keys) {\n      cache.keys = keys;\n    }\n\n    if (\"object\" === _typeof(key)) {\n      for (var i = 0, length = keys.length; i < length; i++) {\n        if (this._equalKeys(key, keys[i])) {\n          return i;\n        }\n      }\n    } else {\n      return keys.indexOf(key);\n    }\n\n    return -1;\n  },\n  getItemsByKeys: function (keys, items) {\n    return (items || keys).slice();\n  },\n  moveItemAtIndexToIndex: function (movingIndex, destinationIndex) {\n    var items = this._getPlainItems();\n\n    var movedItemData = items[movingIndex];\n    items.splice(movingIndex, 1);\n    items.splice(destinationIndex, 0, movedItemData);\n  },\n  _isItemIndex: function (index) {\n    return \"number\" === typeof index && Math.round(index) === index;\n  },\n  _getNormalizedItemIndex: function (itemElement) {\n    return this._collectionWidget._itemElements().index(itemElement);\n  },\n  _normalizeItemIndex: function (index) {\n    return index;\n  },\n  _denormalizeItemIndex: function (index) {\n    return index;\n  },\n  _getItemByNormalizedIndex: function (index) {\n    return index > -1 ? this._collectionWidget._itemElements().eq(index) : null;\n  },\n  _itemsFromSameParent: function () {\n    return true;\n  }\n});\nmodule.exports = PlainEditStrategy;","map":null,"metadata":{},"sourceType":"script"}