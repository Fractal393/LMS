{"ast":null,"code":"/**\r\n * DevExtreme (ui/tree_view/ui.tree_view.search.js)\r\n * Version: 20.1.6\r\n * Build date: Fri Jul 17 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _renderer = require(\"../../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _component_registrator = require(\"../../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _ui = require(\"../widget/ui.search_box_mixin\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _uiTree_view = require(\"./ui.tree_view.base\");\n\nvar _uiTree_view2 = _interopRequireDefault(_uiTree_view);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar WIDGET_CLASS = \"dx-treeview\";\nvar NODE_CONTAINER_CLASS = \"\".concat(WIDGET_CLASS, \"-node-container\");\n\nvar TreeViewSearch = _uiTree_view2.default.inherit(_ui2.default).inherit({\n  _addWidgetPrefix: function (className) {\n    return \"\".concat(WIDGET_CLASS, \"-\").concat(className);\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"searchValue\":\n        if (this._showCheckboxes() && this._isRecursiveSelection()) {\n          this._removeSelection();\n        }\n\n        this._initDataAdapter();\n\n        this._updateSearch();\n\n        this._repaintContainer();\n\n        break;\n\n      case \"searchExpr\":\n        this._initDataAdapter();\n\n        this.repaint();\n        break;\n\n      case \"searchMode\":\n        this.option(\"expandNodesRecursive\") ? this._updateDataAdapter() : this._initDataAdapter();\n        this.repaint();\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  _updateDataAdapter: function () {\n    this._setOptionWithoutOptionChange(\"expandNodesRecursive\", false);\n\n    this._initDataAdapter();\n\n    this._setOptionWithoutOptionChange(\"expandNodesRecursive\", true);\n  },\n  _getDataAdapterOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      searchValue: this.option(\"searchValue\"),\n      searchMode: this.option(\"searchMode\") || \"contains\",\n      searchExpr: this.option(\"searchExpr\")\n    });\n  },\n  _updateSearch: function () {\n    if (this._searchEditor) {\n      var editorOptions = this._getSearchEditorOptions();\n\n      this._searchEditor.option(editorOptions);\n    }\n  },\n  _repaintContainer: function () {\n    var $container = this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\n    var rootNodes;\n\n    if ($container.length) {\n      $container.empty();\n      rootNodes = this._dataAdapter.getRootNodes();\n\n      this._renderEmptyMessage(rootNodes);\n\n      this._renderItems($container, rootNodes);\n\n      this._fireContentReadyAction();\n    }\n  },\n  _itemContainer: function (isSearchMode) {\n    if (this._scrollableContainer && isSearchMode) {\n      return (0, _renderer2.default)(this._scrollableContainer.content());\n    }\n\n    return this.callBase();\n  },\n  _addWidgetClass: function () {\n    this.$element().addClass(this._widgetClass());\n  },\n  _clean: function () {\n    this.callBase();\n\n    this._removeSearchBox();\n  }\n});\n\n(0, _component_registrator2.default)(\"dxTreeView\", TreeViewSearch);\nmodule.exports = TreeViewSearch;","map":null,"metadata":{},"sourceType":"script"}