{"ast":null,"code":"\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useFileSorting = void 0;\n\nvar fast_sort_1 = __importDefault(require(\"fast-sort\"));\n\nvar react_1 = require(\"react\");\n\nvar recoil_1 = require(\"recoil\");\n\nvar options_recoil_1 = require(\"../recoil/options.recoil\");\n\nvar sort_recoil_1 = require(\"../recoil/sort.recoil\");\n\nvar sort_types_1 = require(\"../types/sort.types\");\n\nvar file_actions_definitions_1 = require(\"./file-actions-definitions\");\n\nvar file_helper_1 = require(\"./file-helper\");\n\nexports.useFileSorting = function (files) {\n  var sortConfig = recoil_1.useRecoilValue(sort_recoil_1.sortConfigState);\n  var showFolderFirstState = recoil_1.useRecoilValue(options_recoil_1.optionState(file_actions_definitions_1.ChonkyActions.ToggleShowFoldersFirst.option.id));\n  var sortedFiles = react_1.useMemo(function () {\n    var sortFunctions = [];\n\n    if (showFolderFirstState) {\n      sortFunctions.push({\n        desc: file_helper_1.FileHelper.isDirectory\n      });\n    }\n\n    if (sortConfig.order === sort_types_1.SortOrder.Asc) {\n      sortFunctions.push({\n        asc: sortConfig.sortKeySelector\n      });\n    } else {\n      sortFunctions.push({\n        desc: sortConfig.sortKeySelector\n      });\n    }\n\n    sortFunctions.push({\n      asc: file_actions_definitions_1.ChonkyActions.SortFilesByName.sortKeySelector\n    }); // !!! We create a new array because by default `fast-sort` mutates the array!\n\n    return fast_sort_1.default(__spreadArrays(files)).by(sortFunctions);\n  }, [files, sortConfig, showFolderFirstState]);\n  return sortedFiles;\n};","map":null,"metadata":{},"sourceType":"script"}