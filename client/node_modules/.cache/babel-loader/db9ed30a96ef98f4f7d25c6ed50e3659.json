{"ast":null,"code":"import { PdfArray } from './../primitives/pdf-array';\nimport { PdfPageLayerCollection } from './pdf-page-layer-collection';\nimport { DictionaryProperties } from './../input-output/pdf-dictionary-properties';\nimport { PdfResources } from './../graphics/pdf-resources';\n/**\n * The abstract base class for all pages,\n * `PdfPageBase` class provides methods and properties to create PDF pages and its elements.\n * @private\n */\n\nvar PdfPageBase =\n/** @class */\nfunction () {\n  //constructors\n\n  /**\n   * Initializes a new instance of the `PdfPageBase` class.\n   * @private\n   */\n  function PdfPageBase(dictionary) {\n    /**\n     * `Index` of the default layer.\n     * @default -1.\n     * @private\n     */\n    this.defLayerIndex = -1;\n    /**\n     * Local variable to store if page `updated`.\n     * @default false.\n     * @private\n     */\n\n    this.modified = false;\n    /**\n     * Instance of `DictionaryProperties` class.\n     * @hidden\n     * @private\n     */\n\n    this.dictionaryProperties = new DictionaryProperties();\n    this.pageDictionary = dictionary;\n  }\n\n  Object.defineProperty(PdfPageBase.prototype, \"section\", {\n    //Properties\n\n    /**\n     * Gets the `section` of a page.\n     * @private\n     */\n    get: function () {\n      // if (this.pdfSection === null) {\n      //     throw new Error('PdfException : Page must be added to some section before using.');\n      // }\n      return this.pdfSection;\n    },\n    set: function (value) {\n      this.pdfSection = value;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfPageBase.prototype, \"dictionary\", {\n    /**\n     * Gets the page `dictionary`.\n     * @private\n     */\n    get: function () {\n      return this.pageDictionary;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfPageBase.prototype, \"element\", {\n    /**\n     * Gets the wrapped `element`.\n     * @private\n     */\n    get: function () {\n      return this.pageDictionary;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfPageBase.prototype, \"defaultLayer\", {\n    /**\n     * Gets the `default layer` of the page (Read only).\n     * @private\n     */\n    get: function () {\n      var layer = this.layers;\n      var index = this.defaultLayerIndex;\n      var returnlayer = layer.items(index);\n      return returnlayer;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfPageBase.prototype, \"defaultLayerIndex\", {\n    /**\n     * Gets or sets `index of the default layer`.\n     * @private\n     */\n    get: function () {\n      if (this.layerCollection.count === 0 || this.defLayerIndex === -1) {\n        var layer = this.layerCollection.add();\n        this.defLayerIndex = this.layerCollection.indexOf(layer);\n      }\n\n      return this.defLayerIndex;\n    },\n\n    /**\n     * Gets or sets` index of the default layer`.\n     * @private\n     */\n    set: function (value) {\n      if (value < 0 || value > this.layers.count - 1) {\n        throw new Error('ArgumentOutOfRangeException : value, Index can not be less 0 and greater Layers.Count - 1');\n      } else {\n        this.defLayerIndex = value;\n        this.modified = true;\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(PdfPageBase.prototype, \"layers\", {\n    /**\n     * Gets the collection of the page's `layers` (Read only).\n     * @private\n     */\n    get: function () {\n      if (this.layerCollection == null || typeof this.layerCollection === 'undefined') {\n        this.layerCollection = new PdfPageLayerCollection(this);\n      }\n\n      return this.layerCollection;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Return an instance of `PdfResources` class.\n   * @private\n   */\n\n  PdfPageBase.prototype.getResources = function () {\n    if (this.resources == null) {\n      this.resources = new PdfResources();\n      this.dictionary.items.setValue(this.dictionaryProperties.resources, this.resources);\n    }\n\n    return this.resources;\n  };\n\n  Object.defineProperty(PdfPageBase.prototype, \"contents\", {\n    /**\n     * Gets `array of page's content`.\n     * @private\n     */\n    get: function () {\n      var obj = this.pageDictionary.items.getValue(this.dictionaryProperties.contents);\n      var contents = obj;\n      var rh = obj;\n\n      if (contents == null) {\n        contents = new PdfArray();\n        this.pageDictionary.items.setValue(this.dictionaryProperties.contents, contents);\n      }\n\n      return contents;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  /**\n   * Sets the `resources`.\n   * @private\n   */\n\n  PdfPageBase.prototype.setResources = function (res) {\n    this.resources = res;\n    this.dictionary.items.setValue(this.dictionaryProperties.resources, this.resources);\n    this.modified = true;\n  };\n\n  return PdfPageBase;\n}();\n\nexport { PdfPageBase };","map":null,"metadata":{},"sourceType":"module"}