{"ast":null,"code":"/**\r\n * DevExtreme (ui/collection/ui.collection_widget.async.js)\r\n * Version: 20.1.6\r\n * Build date: Fri Jul 17 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _uiCollection_widget = require(\"./ui.collection_widget.edit\");\n\nvar _uiCollection_widget2 = _interopRequireDefault(_uiCollection_widget);\n\nvar _deferred = require(\"../../core/utils/deferred\");\n\nvar _common = require(\"../../core/utils/common\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar AsyncCollectionWidget = _uiCollection_widget2.default.inherit({\n  _initMarkup: function () {\n    this._deferredItems = [];\n    this.callBase();\n  },\n  _renderItemContent: function (args) {\n    var renderContentDeferred = new _deferred.Deferred();\n    var itemDeferred = new _deferred.Deferred();\n    var that = this;\n    this._deferredItems[args.index] = itemDeferred;\n    var $itemContent = this.callBase.call(that, args);\n    itemDeferred.done(function () {\n      renderContentDeferred.resolve($itemContent);\n    });\n    return renderContentDeferred.promise();\n  },\n  _createItemByTemplate: function (itemTemplate, renderArgs) {\n    var _this = this;\n\n    return itemTemplate.render({\n      model: renderArgs.itemData,\n      container: renderArgs.container,\n      index: renderArgs.index,\n      onRendered: function () {\n        _this._deferredItems[renderArgs.index].resolve();\n      }\n    });\n  },\n  _postProcessRenderItems: _common.noop,\n  _renderItemsAsync: function () {\n    var _this2 = this;\n\n    var d = new _deferred.Deferred();\n\n    _deferred.when.apply(this, this._deferredItems).done(function () {\n      _this2._postProcessRenderItems();\n\n      d.resolve();\n    });\n\n    return d.promise();\n  },\n  _clean: function () {\n    this.callBase();\n    this._deferredItems = [];\n  }\n});\n\nmodule.exports = AsyncCollectionWidget;","map":null,"metadata":{},"sourceType":"script"}