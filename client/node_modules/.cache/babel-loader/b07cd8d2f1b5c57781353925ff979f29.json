{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Switch } from '@syncfusion/ej2-buttons';\nimport { extend } from '@syncfusion/ej2-base';\nimport { isEditable, addRemoveActiveClasses, getComplexFieldID, getObject } from '../base/util';\n/**\n * `ToggleEditCell` is used to handle boolean cell type editing.\n * @hidden\n */\n\nvar ToggleEditCell =\n/** @class */\nfunction () {\n  function ToggleEditCell(parentObject) {\n    this.activeClasses = ['e-selectionbackground', 'e-active'];\n    this.parent = parentObject;\n  }\n\n  ToggleEditCell.prototype.create = function (args) {\n    var col = args.column;\n    var classNames = 'e-field e-boolcell';\n\n    if (col.type === 'checkbox') {\n      classNames = 'e-field e-boolcell e-edit-checkselect';\n    }\n\n    var complexField = getComplexFieldID(args.column.field);\n    return this.parent.createElement('input', {\n      className: classNames,\n      attrs: {\n        type: 'checkbox',\n        value: args.value,\n        'e-mappinguid': col.uid,\n        id: this.parent.element.id + complexField,\n        name: complexField\n      }\n    });\n  };\n\n  ToggleEditCell.prototype.read = function (element) {\n    return element.checked;\n  };\n\n  ToggleEditCell.prototype.write = function (args) {\n    var chkBoxElement;\n    var checkState; // let isAddRow : boolean =  args.requestType === 'add' || args.row.classList.contains('e-addedrow');\n\n    if (!isNullOrUndefined(args.row)) {\n      chkBoxElement = args.row.querySelector('.e-edit-checkselect');\n    }\n\n    if (getObject(args.column.field, args.rowData)) {\n      checkState = JSON.parse(getObject(args.column.field, args.rowData).toString().toLowerCase());\n    }\n\n    if (!isNullOrUndefined(chkBoxElement)) {\n      this.editType = this.parent.editSettings.mode;\n      this.editRow = args.row;\n\n      if (args.requestType !== 'add') {\n        var row = this.parent.getRowObjectFromUID(args.row.getAttribute('data-uid'));\n        checkState = row ? row.isSelected : false;\n      }\n\n      addRemoveActiveClasses.apply(void 0, [[].slice.call(args.row.querySelectorAll('.e-rowcell')), checkState].concat(this.activeClasses));\n    }\n\n    this.obj = new Switch(extend({\n      label: this.parent.editSettings.mode !== 'Dialog' ? ' ' : args.column.headerText,\n      checked: checkState,\n      disabled: !isEditable(args.column, args.requestType, args.element),\n      enableRtl: this.parent.enableRtl,\n      change: this.switchModeChange.bind(this)\n    }, args.column.edit.params));\n    this.obj.appendTo(args.element);\n  };\n\n  ToggleEditCell.prototype.switchModeChange = function (args) {\n    if (this.editRow && this.editType !== 'Dialog') {\n      var addClass = false;\n\n      if (!args.checked) {\n        this.editRow.removeAttribute('aria-selected');\n      } else {\n        addClass = true;\n        this.editRow.setAttribute('aria-selected', addClass.toString());\n      }\n\n      addRemoveActiveClasses.apply(void 0, [[].slice.call(this.editRow.querySelectorAll('.e-rowcell')), addClass].concat(this.activeClasses));\n    }\n  };\n\n  ToggleEditCell.prototype.destroy = function () {\n    if (this.obj) {\n      this.obj.destroy();\n    }\n  };\n\n  return ToggleEditCell;\n}();\n\nexport { ToggleEditCell };","map":null,"metadata":{},"sourceType":"module"}